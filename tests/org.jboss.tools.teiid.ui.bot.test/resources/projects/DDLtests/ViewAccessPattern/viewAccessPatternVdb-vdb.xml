<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<vdb name="viewAccessPatternVdb" version="1">
<description/>
<property name="validationDateTime" value="Thu Dec 01 11:41:42 CET 2016"/>
<property name="validationVersion" value="8.12.6"/>
<model name="viewAccessPatternSource">
<source connection-jndi-name="viewAccessPatternSource" name="viewAccessPatternSource" translator-name="sqlserver"/>
<metadata type="DDL"><![CDATA[
CREATE FOREIGN TABLE PARTS (
	PART_ID string(50) NOT NULL OPTIONS(NAMEINSOURCE '"PART_ID"', NATIVE_TYPE 'varchar'),
	PART_NAME string(255) OPTIONS(NAMEINSOURCE '"PART_NAME"', NATIVE_TYPE 'varchar'),
	PART_COLOR string(30) OPTIONS(NAMEINSOURCE '"PART_COLOR"', NATIVE_TYPE 'varchar'),
	PART_WEIGHT string(255) OPTIONS(NAMEINSOURCE '"PART_WEIGHT"', NATIVE_TYPE 'varchar'),
	CONSTRAINT PK_PARTS PRIMARY KEY(PART_ID)
) OPTIONS(NAMEINSOURCE '"partssupplier"."dbo"."PARTS"', UPDATABLE 'TRUE')

CREATE FOREIGN TABLE SHIP_VIA (
	SHIPPER_ID bigdecimal NOT NULL OPTIONS(NAMEINSOURCE '"SHIPPER_ID"', NATIVE_TYPE 'numeric', FIXED_LENGTH 'TRUE'),
	SHIPPER_NAME string(30) OPTIONS(NAMEINSOURCE '"SHIPPER_NAME"', NATIVE_TYPE 'varchar'),
	AVERAGE_TIME_DELIVERY bigdecimal OPTIONS(NAMEINSOURCE '"AVERAGE TIME DELIVERY"', NATIVE_TYPE 'numeric', FIXED_LENGTH 'TRUE'),
	CONSTRAINT PK_SHIP_VIA PRIMARY KEY(SHIPPER_ID)
) OPTIONS(NAMEINSOURCE '"partssupplier"."dbo"."SHIP_VIA"', UPDATABLE 'TRUE')

CREATE FOREIGN TABLE STATUS (
	STATUS_ID bigdecimal NOT NULL OPTIONS(NAMEINSOURCE '"STATUS_ID"', NATIVE_TYPE 'numeric', FIXED_LENGTH 'TRUE'),
	STATUS_NAME string(30) OPTIONS(NAMEINSOURCE '"STATUS_NAME"', NATIVE_TYPE 'varchar'),
	CONSTRAINT PK_STATUS PRIMARY KEY(STATUS_ID)
) OPTIONS(NAMEINSOURCE '"partssupplier"."dbo"."STATUS"', UPDATABLE 'TRUE')

CREATE FOREIGN TABLE SUPPLIER (
	SUPPLIER_ID string(10) NOT NULL OPTIONS(NAMEINSOURCE '"SUPPLIER_ID"', NATIVE_TYPE 'varchar'),
	SUPPLIER_NAME string(30) OPTIONS(NAMEINSOURCE '"SUPPLIER_NAME"', NATIVE_TYPE 'varchar'),
	SUPPLIER_STATUS bigdecimal OPTIONS(NAMEINSOURCE '"SUPPLIER_STATUS"', NATIVE_TYPE 'numeric', FIXED_LENGTH 'TRUE'),
	SUPPLIER_CITY string(30) OPTIONS(NAMEINSOURCE '"SUPPLIER_CITY"', NATIVE_TYPE 'varchar'),
	SUPPLIER_STATE string(2) OPTIONS(NAMEINSOURCE '"SUPPLIER_STATE"', NATIVE_TYPE 'varchar'),
	CONSTRAINT PK_SUPPLIER PRIMARY KEY(SUPPLIER_ID),
	CONSTRAINT FK_SPLIER_STATS FOREIGN KEY(SUPPLIER_STATUS) REFERENCES STATUS(STATUS_ID)
) OPTIONS(NAMEINSOURCE '"partssupplier"."dbo"."SUPPLIER"', UPDATABLE 'TRUE')

CREATE FOREIGN TABLE SUPPLIER_PARTS (
	SUPPLIER_ID string(10) NOT NULL OPTIONS(NAMEINSOURCE '"SUPPLIER_ID"', NATIVE_TYPE 'varchar'),
	PART_ID string(50) NOT NULL OPTIONS(NAMEINSOURCE '"PART_ID"', NATIVE_TYPE 'varchar'),
	QUANTITY bigdecimal OPTIONS(NAMEINSOURCE '"QUANTITY"', NATIVE_TYPE 'numeric', FIXED_LENGTH 'TRUE'),
	SHIPPER_ID bigdecimal OPTIONS(NAMEINSOURCE '"SHIPPER_ID"', NATIVE_TYPE 'numeric', FIXED_LENGTH 'TRUE'),
	CONSTRAINT PK_SUPPLIER_PARTS PRIMARY KEY(SUPPLIER_ID, PART_ID),
	CONSTRAINT FK_SPLIER_PRTS_PRTS FOREIGN KEY(PART_ID) REFERENCES PARTS(PART_ID),
	CONSTRAINT FK_SPLY_PRTS_SPLY FOREIGN KEY(SUPPLIER_ID) REFERENCES SUPPLIER(SUPPLIER_ID)
) OPTIONS(NAMEINSOURCE '"partssupplier"."dbo"."SUPPLIER_PARTS"', UPDATABLE 'TRUE')

]]></metadata>
</model>
<model name="viewAccessPatternView" type="VIRTUAL">
<property name="imports" value="viewAccessPatternSource"/>
<metadata type="DDL"><![CDATA[
CREATE VIEW viewTable (
	SUPPLIER_ID string(10) NOT NULL,
	SUPPLIER_NAME string(30),
	SUPPLIER_STATUS bigdecimal OPTIONS(FIXED_LENGTH 'TRUE'),
	SUPPLIER_CITY string(30),
	SUPPLIER_STATE string(2),
	CONSTRAINT NAME ACCESSPATTERN(SUPPLIER_NAME)
) OPTIONS(UPDATABLE 'TRUE') 
AS
	SELECT * FROM viewAccessPatternSource.SUPPLIER;

]]></metadata>
</model>
</vdb>
